[[section-runtime-view]]
== Runtime View


[role="arc42help"]


=== Iniciar sesión


* Inicio de sesión en la aplicación web

[plantuml,"Sequence diagram 1",png]
----
actor Usuario
participant Aplicación
participant "Login de Solid" as Login
database POD
Usuario -> Aplicación: click en iniciar sesión
Aplicación -> Login: llama a
Usuario -> Login: se logea
Login -> Aplicación: le devuelve el POD del usuario
Aplicación -> POD: pide acceso
POD -> Aplicación: le devuelve la información del usuario
Aplicación -> Usuario: le notifica el inicio de sesión
----
=== Comprar producto

* Compra de un producto en la aplicación web

[plantuml,"Sequence diagram 2",png]
----
actor Usuario
participant Aplicación
database Mongo
database POD
Usuario -> Aplicación: selecciona los productos
Aplicación-> Mongo: pide los datos de los productos
Mongo -> Aplicación: retorna los productos
Aplicación-> Usuario: muestra los datos de los productos
Usuario -> Aplicación: hace click en comprar
Aplicación-> POD: pide la dirección del usuario
POD -> Aplicación: devuelve la dirección del usuario
Aplicación-> Aplicación: calcula costes de envío
Aplicación -> Usuario: muestra el precio y pide confirmación
Usuario -> Aplicación: confirma la compra
Aplicación-> Mongo: elimina los productos del stock
Mongo -> Mongo: se actualiza la BBDD
Aplicación -> Usuario: muestra el envío del pedido
----

